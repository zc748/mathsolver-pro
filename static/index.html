<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MathSolver Pro - Beyond Symbolab</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">∫</div>
                    <div class="logo-text">
                        <span class="logo-title">MathSolver</span>
                        <span class="logo-badge">PRO</span>
                    </div>
                </div>
                
                <div class="header-actions">
                    <button class="icon-btn" id="themeToggle" title="Toggle theme">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="5"/>
                            <line x1="12" y1="1" x2="12" y2="3"/>
                            <line x1="12" y1="21" x2="12" y2="23"/>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                            <line x1="1" y1="12" x2="3" y2="12"/>
                            <line x1="21" y1="12" x2="23" y2="12"/>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                        </svg>
                    </button>
                    <button class="icon-btn" id="historyToggle" title="History">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                    </button>
                    <button class="icon-btn" id="helpBtn" title="Help & Shortcuts">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                            <line x1="12" y1="17" x2="12.01" y2="17"/>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar">
                <nav class="tools-nav">
                    <button class="tool-btn active" data-tool="derivative">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 3v18h18"/>
                            <path d="M7 12L12 7l5 5"/>
                        </svg>
                        <span>Derivative</span>
                    </button>
                    <button class="tool-btn" data-tool="integral">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2C8 2 6 6 6 10c0 4 2 8 6 8s6-4 6-8c0-4-2-8-6-8z"/>
                        </svg>
                        <span>Integral</span>
                    </button>
                    <button class="tool-btn" data-tool="limit">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="2" x2="12" y2="22"/>
                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                        </svg>
                        <span>Limit</span>
                    </button>
                    <button class="tool-btn" data-tool="solve">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="8" x2="12" y2="12"/>
                            <line x1="8" y1="12" x2="16" y2="12"/>
                        </svg>
                        <span>Solve</span>
                    </button>
                    <button class="tool-btn" data-tool="simplify">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="16 18 22 12 16 6"/>
                            <polyline points="8 6 2 12 8 18"/>
                        </svg>
                        <span>Simplify</span>
                    </button>
                    <button class="tool-btn" data-tool="expand">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="15 3 21 3 21 9"/>
                            <polyline points="9 21 3 21 3 15"/>
                            <line x1="21" y1="3" x2="14" y2="10"/>
                            <line x1="3" y1="21" x2="10" y2="14"/>
                        </svg>
                        <span>Expand</span>
                    </button>
                    <button class="tool-btn" data-tool="factor">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <line x1="9" y1="9" x2="15" y2="15"/>
                            <line x1="15" y1="9" x2="9" y2="15"/>
                        </svg>
                        <span>Factor</span>
                    </button>
                    <button class="tool-btn" data-tool="series">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="8" y1="6" x2="21" y2="6"/>
                            <line x1="8" y1="12" x2="21" y2="12"/>
                            <line x1="8" y1="18" x2="21" y2="18"/>
                            <line x1="3" y1="6" x2="3.01" y2="6"/>
                            <line x1="3" y1="12" x2="3.01" y2="12"/>
                            <line x1="3" y1="18" x2="3.01" y2="18"/>
                        </svg>
                        <span>Series</span>
                    </button>
                    <button class="tool-btn" data-tool="graph">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="20" x2="18" y2="10"/>
                            <line x1="12" y1="20" x2="12" y2="4"/>
                            <line x1="6" y1="20" x2="6" y2="14"/>
                        </svg>
                        <span>Graph</span>
                    </button>
                    <button class="tool-btn" data-tool="practice">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="9" y1="15" x2="15" y2="15"/>
                        </svg>
                        <span>Practice</span>
                    </button>
                </nav>
            </aside>

            <!-- Main Area -->
            <main class="workspace">
                <div class="tool-container active" id="derivative-tool">
                    <div class="tool-header">
                        <h2>Derivative Calculator</h2>
                        <p>Find derivatives with detailed step-by-step solutions</p>
                    </div>
                    
                    <div class="input-section">
                        <div class="input-group">
                            <label>Expression</label>
                            <input type="text" 
                                   class="math-input" 
                                   id="derivative-input" 
                                   placeholder="e.g., x^2 * sin(x)"
                                   autocomplete="off">
                            <div class="input-suggestions" id="derivative-suggestions"></div>
                        </div>
                        
                        <div class="input-row">
                            <div class="input-group small">
                                <label>Variable</label>
                                <input type="text" 
                                       class="math-input" 
                                       id="derivative-variable" 
                                       value="x"
                                       placeholder="x">
                            </div>
                            
                            <button class="btn-primary" id="derivative-calculate">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"/>
                                    <path d="m21 21-4.35-4.35"/>
                                </svg>
                                Calculate
                            </button>
                        </div>
                        
                        <div class="examples">
                            <span class="examples-label">Examples:</span>
                            <button class="example-btn" data-example="x**2 + 3*x + 1">x² + 3x + 1</button>
                            <button class="example-btn" data-example="sin(x) * cos(x)">sin(x)·cos(x)</button>
                            <button class="example-btn" data-example="exp(x**2)">e^(x²)</button>
                            <button class="example-btn" data-example="ln(x) / x">ln(x)/x</button>
                        </div>
                    </div>
                    
                    <div class="results-section" id="derivative-results" style="display: none;">
                        <div class="result-card">
                            <div class="result-header">
                                <h3>Result</h3>
                                <div class="result-actions">
                                    <button class="icon-btn" id="copy-result" title="Copy">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                                        </svg>
                                    </button>
                                    <button class="icon-btn" id="export-pdf" title="Export PDF">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                            <polyline points="14 2 14 8 20 8"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="result-content" id="result-display"></div>
                        </div>
                        
                        <div class="steps-card">
                            <div class="steps-header">
                                <h3>Step-by-Step Solution</h3>
                                <button class="btn-text" id="toggle-steps">
                                    <span>Hide Steps</span>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="6 9 12 15 18 9"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="steps-content" id="steps-display"></div>
                        </div>
                        
                        <div class="graph-card" id="graph-container" style="display: none;">
                            <div class="graph-header">
                                <h3>Visualization</h3>
                            </div>
                            <canvas id="graph-canvas"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Integral Tool -->
                <div class="tool-container" id="integral-tool">
                    <div class="tool-header">
                        <h2>Integral Calculator</h2>
                        <p>Compute indefinite and definite integrals with steps</p>
                    </div>
                    
                    <div class="input-section">
                        <div class="input-group">
                            <label>Expression</label>
                            <input type="text" 
                                   class="math-input" 
                                   id="integral-input" 
                                   placeholder="e.g., x * sin(x)"
                                   autocomplete="off">
                        </div>
                        
                        <div class="input-row">
                            <div class="input-group small">
                                <label>Variable</label>
                                <input type="text" 
                                       class="math-input" 
                                       id="integral-variable" 
                                       value="x">
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="definite-integral">
                                <label for="definite-integral">Definite Integral</label>
                            </div>
                        </div>
                        
                        <div class="input-row" id="integral-bounds" style="display: none;">
                            <div class="input-group small">
                                <label>Lower Bound</label>
                                <input type="text" class="math-input" id="integral-lower" value="0">
                            </div>
                            <div class="input-group small">
                                <label>Upper Bound</label>
                                <input type="text" class="math-input" id="integral-upper" value="1">
                            </div>
                        </div>
                        
                        <button class="btn-primary" id="integral-calculate">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"/>
                                <path d="m21 21-4.35-4.35"/>
                            </svg>
                            Calculate
                        </button>
                        
                        <div class="examples">
                            <span class="examples-label">Examples:</span>
                            <button class="example-btn" data-example="x**2">x²</button>
                            <button class="example-btn" data-example="sin(x)">sin(x)</button>
                            <button class="example-btn" data-example="1/(x**2 + 1)">1/(x²+1)</button>
                            <button class="example-btn" data-example="x * exp(x)">x·e^x</button>
                        </div>
                    </div>
                    
                    <div class="results-section" id="integral-results" style="display: none;"></div>
                </div>

                <!-- Add similar sections for other tools -->
                <div class="tool-container" id="limit-tool">
                    <div class="tool-header">
                        <h2>Limit Calculator</h2>
                        <p>Evaluate limits as x approaches any value</p>
                    </div>
                    
                    <div class="input-section">
                        <div class="input-group">
                            <label>Expression</label>
                            <input type="text" class="math-input" id="limit-input" placeholder="e.g., sin(x)/x">
                        </div>
                        
                        <div class="input-row">
                            <div class="input-group small">
                                <label>Variable</label>
                                <input type="text" class="math-input" id="limit-variable" value="x">
                            </div>
                            <div class="input-group small">
                                <label>Approaches</label>
                                <input type="text" class="math-input" id="limit-point" value="0">
                            </div>
                            <div class="input-group small">
                                <label>Direction</label>
                                <select class="math-input" id="limit-direction">
                                    <option value="+-">Both sides</option>
                                    <option value="+">From right (+)</option>
                                    <option value="-">From left (-)</option>
                                </select>
                            </div>
                        </div>
                        
                        <button class="btn-primary" id="limit-calculate">Calculate</button>
                        
                        <div class="examples">
                            <span class="examples-label">Examples:</span>
                            <button class="example-btn" data-example="sin(x)/x">sin(x)/x</button>
                            <button class="example-btn" data-example="(1-cos(x))/x">(1-cos(x))/x</button>
                            <button class="example-btn" data-example="1/x">1/x</button>
                        </div>
                    </div>
                    
                    <div class="results-section" id="limit-results" style="display: none;"></div>
                </div>

                <!-- Practice Tool -->
                <div class="tool-container" id="practice-tool">
                    <div class="tool-header">
                        <h2>Practice Problems</h2>
                        <p>Generate unlimited practice problems with solutions</p>
                    </div>
                    
                    <div class="input-section">
                        <div class="input-row">
                            <div class="input-group">
                                <label>Topic</label>
                                <select class="math-input" id="practice-topic">
                                    <option value="derivative">Derivatives</option>
                                    <option value="integral">Integrals</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Difficulty</label>
                                <select class="math-input" id="practice-difficulty">
                                    <option value="easy">Easy</option>
                                    <option value="medium">Medium</option>
                                    <option value="hard">Hard</option>
                                </select>
                            </div>
                        </div>
                        
                        <button class="btn-primary" id="practice-generate">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                            </svg>
                            Generate Problems
                        </button>
                    </div>
                    
                    <div class="practice-problems" id="practice-problems"></div>
                </div>
            </main>

            <!-- History Panel -->
            <aside class="history-panel" id="historyPanel">
                <div class="history-header">
                    <h3>History</h3>
                    <button class="btn-text" id="clearHistory">Clear All</button>
                </div>
                <div class="history-search">
                    <input type="text" placeholder="Search history..." id="historySearch">
                </div>
                <div class="history-list" id="historyList">
                    <div class="empty-state">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        <p>No calculations yet</p>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Help Modal -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Keyboard Shortcuts & Help</h2>
                <button class="icon-btn" id="closeHelp">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="shortcuts-grid">
                    <div class="shortcut-item">
                        <kbd>Ctrl</kbd> + <kbd>Enter</kbd>
                        <span>Calculate</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Ctrl</kbd> + <kbd>H</kbd>
                        <span>Toggle History</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Ctrl</kbd> + <kbd>/</kbd>
                        <span>Show Help</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Ctrl</kbd> + <kbd>K</kbd>
                        <span>Focus Input</span>
                    </div>
                </div>
                
                <h3>Math Input Tips</h3>
                <ul class="tips-list">
                    <li>Use <code>**</code> or <code>^</code> for exponents: <code>x**2</code> or <code>x^2</code></li>
                    <li>Functions: <code>sin(x)</code>, <code>cos(x)</code>, <code>tan(x)</code>, <code>exp(x)</code>, <code>ln(x)</code></li>
                    <li>Multiplication: <code>2*x</code> or <code>2x</code></li>
                    <li>Division: <code>1/x</code> or <code>(x+1)/(x-1)</code></li>
                    <li>Square root: <code>sqrt(x)</code></li>
                    <li>Constants: <code>pi</code>, <code>e</code></li>
                </ul>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="app.js"></script>
</body>
</html>
